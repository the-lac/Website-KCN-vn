<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
<style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
<style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
<script src="https://cdn.jsdelivr.net/npm/leaflet@1.6.0/dist/leaflet.js"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
<link href="https://cdn.jsdelivr.net/npm/leaflet@1.6.0/dist/leaflet.css" rel="stylesheet"/>
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet"/>
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css" rel="stylesheet"/>
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css" rel="stylesheet"/>
<link href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css" rel="stylesheet"/>
<meta content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport"/>
<style>
                #map_c8dcf0e908ba0caba2a7431bcfd5382b {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
            </style>
</head>
<body><div id="suggest-box" style="position: fixed; top: 10px; left: 270px; width: 300px; z-index: 9999; background: white; padding: 10px; box-shadow: 0 0 5px rgba(0,0,0,0.3);"><label for="kcn-suggest">Gợi ý KCN:</label><input id="kcn-suggest" oninput="suggestKCN(this.value)" placeholder="Nhập tên khu công nghiệp..." style="width: 100%; height: 28px;" type="text"/><ul id="suggestions" style="max-height: 200px; overflow-y: auto; margin-top: 5px; padding-left: 15px;"></ul></div><div id="province-filter" style="position: fixed; top: 10px; right: 10px; z-index: 9999; background: white; padding: 10px; box-shadow: 0 0 5px rgba(0,0,0,0.3);"><label for="province-select">Chọn tỉnh:</label><select id="province-select" onchange="filterByProvince(this.value)"><option value="all">Tất cả</option></select></div><div id="sidebar" style="position: fixed; top: 0; left: 0; width: 250px; height: 100%; background: #f8f9fa; overflow-y: auto; z-index: 9999; padding: 10px; box-shadow: 2px 0 5px rgba(0,0,0,0.1);"><h3>Gợi ý KCN</h3><ul id="kcn-list"></ul></div>
<div class="folium-map" id="map_c8dcf0e908ba0caba2a7431bcfd5382b"></div>
<div style="position: fixed; top: 10px; left: 50px; z-index:9999;">
<input id="searchBox" placeholder="Tìm KCN..." style="width: 200px; height: 28px; font-size: 14px;" type="text"/>
</div>
<script>
    document.getElementById("searchBox").addEventListener("input", function() {
        let input = this.value.toLowerCase();
        let tooltips = document.querySelectorAll('.leaflet-tooltip');
        tooltips.forEach(t => {
            let content = t.innerHTML.toLowerCase();
            if (content.includes(input)) {
                t.parentElement.style.display = "";
            } else {
                t.parentElement.style.display = "none";
            }
        });
    });
</script>
<script>
// Populate the dropdown with provinces
var provinces = new Set();
document.querySelectorAll("[data-tinh]").forEach(function(el) {
    provinces.add(el.getAttribute("data-tinh"));
});
provinces = Array.from(provinces).sort();
provinces.forEach(function(p) {
    var option = document.createElement("option");
    option.value = p;
    option.textContent = p;
    document.getElementById("province-select").appendChild(option);
});

// Filter KCN by province
function filterByProvince(tinh) {
    document.querySelectorAll("[data-tinh]").forEach(function(el) {
        if (tinh === "all" || el.getAttribute("data-tinh") === tinh) {
            el.style.display = "";
        } else {
            el.style.display = "none";
        }
    });
    updateSidebar(tinh);
}

// Update the sidebar with KCN names
function updateSidebar(tinh) {
    var list = document.getElementById("kcn-list");
    list.innerHTML = "";
    document.querySelectorAll("[data-tinh]").forEach(function(el) {
        if (tinh === "all" || el.getAttribute("data-tinh") === tinh) {
            var li = document.createElement("li");
            li.textContent = el.getAttribute("data-ten") || "KCN không rõ tên";
            list.appendChild(li);
        }
    });
}
updateSidebar("all");
</script><script>
function suggestKCN(query) {
    const list = document.getElementById("suggestions");
    list.innerHTML = "";
    if (!query) return;
    document.querySelectorAll("[data-ten]").forEach(el => {
        if (el.getAttribute("data-ten").toLowerCase().includes(query.toLowerCase())) {
            const li = document.createElement("li");
            li.textContent = el.getAttribute("data-ten");
            li.style.cursor = "pointer";
            li.onclick = () => {
                map.setView(el._latlng, 13);
                el.openPopup();
            };
            list.appendChild(li);
        }
    });
}

// Highlight selected province with border
let provinceLayer = null;
function highlightProvince(tinh) {
    if (provinceLayer) {
        map.removeLayer(provinceLayer);
        provinceLayer = null;
    }
    if (tinh === "all") return;

    fetch('https://raw.githubusercontent.com/gisvietnam/vietnam-provinces-geojson/master/geojson/provinces/' + tinh + '.geojson')
        .then(res => res.json())
        .then(geo => {
            provinceLayer = L.geoJSON(geo, {
                style: {
                    color: 'red',
                    weight: 3,
                    fill: false
                }
            }).addTo(map);
            map.fitBounds(provinceLayer.getBounds());
        });
}

const originalFilterByProvince = filterByProvince;
filterByProvince = function(tinh) {
    originalFilterByProvince(tinh);
    highlightProvince(tinh);
}
</script></body>
<script>
    
    
            var map_c8dcf0e908ba0caba2a7431bcfd5382b = L.map(
                "map_c8dcf0e908ba0caba2a7431bcfd5382b",
                {
                    center: [16.0, 107.5],
                    crs: L.CRS.EPSG3857,
                    zoom: 6,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_ae403b9addb66bd11106f098a64c436c = L.tileLayer(
                "https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",
                {"attribution": "Data by \u0026copy; \u003ca href=\"http://openstreetmap.org\"\u003eOpenStreetMap\u003c/a\u003e, under \u003ca href=\"http://www.openstreetmap.org/copyright\"\u003eODbL\u003c/a\u003e.", "detectRetina": false, "maxNativeZoom": 18, "maxZoom": 18, "minZoom": 0, "noWrap": false, "opacity": 1, "subdomains": "abc", "tms": false}
            ).addTo(map_c8dcf0e908ba0caba2a7431bcfd5382b);
        
    
            var feature_group_bd4b87c03207c273a378d8fd0c5c79ae = L.featureGroup(
                {}
            ).addTo(map_c8dcf0e908ba0caba2a7431bcfd5382b);
        
    
            var marker_23ab9d82c30b2dd4360b26d2e3eed3fa = L.marker(
                [21.2878, 106.1923],
                {}
            ).addTo(feature_group_feff6b7167a769fa8c04f987e8ca8459);
        
    
            var icon_34309f1ba794ab7ec5f8f672d57c5902 = L.AwesomeMarkers.icon(
                {"extraClasses": "fa-rotate-0", "icon": "industry", "iconColor": "white", "markerColor": "blue", "prefix": "fa"}
            );
            marker_23ab9d82c30b2dd4360b26d2e3eed3fa.setIcon(icon_34309f1ba794ab7ec5f8f672d57c5902);
        
    
        var popup_abae820bbd99ebd8b22cb4ca4ddcd048 = L.popup({"maxWidth": 300});

        
            var html_64493bacbb6f16d8e59820d6f43037c6 = $(`<div id="html_64493bacbb6f16d8e59820d6f43037c6" style="width: 100.0%; height: 100.0%;"><b>KCN Quang Châu</b><br>Bắc Giang<br>Điện tử, cơ khí<br>Diện tích: 426 ha</div>`)[0];
            popup_abae820bbd99ebd8b22cb4ca4ddcd048.setContent(html_64493bacbb6f16d8e59820d6f43037c6);
        

        marker_23ab9d82c30b2dd4360b26d2e3eed3fa.bindPopup(popup_abae820bbd99ebd8b22cb4ca4ddcd048)
        ;

        
    
    
            marker_23ab9d82c30b2dd4360b26d2e3eed3fa.bindTooltip(
                `<div>
                     KCN Quang Châu
                 </div>`,
                {"sticky": true}
            );
        
    
            var feature_group_9a83dac9c0f434d4ebd002d8b6d124b5 = L.featureGroup(
                {}
            ).addTo(map_c8dcf0e908ba0caba2a7431bcfd5382b);
        
    
            var marker_5d9918b58f8e96ded27352bc3aa7c41c = L.marker(
                [21.1369, 106.0205],
                {}
            ).addTo(feature_group_e8258f3ab0af968d2d4d394cd4f00cfe);
        
    
            var icon_a6d43c0d135b1e5569d4c226ac920313 = L.AwesomeMarkers.icon(
                {"extraClasses": "fa-rotate-0", "icon": "industry", "iconColor": "white", "markerColor": "blue", "prefix": "fa"}
            );
            marker_5d9918b58f8e96ded27352bc3aa7c41c.setIcon(icon_a6d43c0d135b1e5569d4c226ac920313);
        
    
        var popup_86384c14373ee1558b827c0ab83d1359 = L.popup({"maxWidth": 300});

        
            var html_903209e0246fdea4b1423d25bb003f71 = $(`<div id="html_903209e0246fdea4b1423d25bb003f71" style="width: 100.0%; height: 100.0%;"><b>KCN VSIP Bắc Ninh</b><br>Bắc Ninh<br>Công nghiệp hỗ trợ<br>Diện tích: 700 ha</div>`)[0];
            popup_86384c14373ee1558b827c0ab83d1359.setContent(html_903209e0246fdea4b1423d25bb003f71);
        

        marker_5d9918b58f8e96ded27352bc3aa7c41c.bindPopup(popup_86384c14373ee1558b827c0ab83d1359)
        ;

        
    
    
            marker_5d9918b58f8e96ded27352bc3aa7c41c.bindTooltip(
                `<div>
                     KCN VSIP Bắc Ninh
                 </div>`,
                {"sticky": true}
            );
        
    
            var feature_group_e23a8667ed1d5ee7c3430f02107e649a = L.featureGroup(
                {}
            ).addTo(map_c8dcf0e908ba0caba2a7431bcfd5382b);
        
    
            var marker_a6f4b20887537d16b936a69b495e7e95 = L.marker(
                [20.2547, 105.9752],
                {}
            ).addTo(feature_group_b416ccc06606fa2d1a8a3036c62da56d);
        
    
            var icon_02f6f685e2e454d00fdaad71f4b799a8 = L.AwesomeMarkers.icon(
                {"extraClasses": "fa-rotate-0", "icon": "industry", "iconColor": "white", "markerColor": "blue", "prefix": "fa"}
            );
            marker_a6f4b20887537d16b936a69b495e7e95.setIcon(icon_02f6f685e2e454d00fdaad71f4b799a8);
        
    
        var popup_6797a00a798e89811da5820895bab7ca = L.popup({"maxWidth": 300});

        
            var html_136b1b5511715636582b3d4a16bf70fa = $(`<div id="html_136b1b5511715636582b3d4a16bf70fa" style="width: 100.0%; height: 100.0%;"><b>KCN Phúc Sơn</b><br>Ninh Bình<br>Lắp ráp cơ khí, may mặc<br>Diện tích: 150 ha</div>`)[0];
            popup_6797a00a798e89811da5820895bab7ca.setContent(html_136b1b5511715636582b3d4a16bf70fa);
        

        marker_a6f4b20887537d16b936a69b495e7e95.bindPopup(popup_6797a00a798e89811da5820895bab7ca)
        ;

        
    
    
            marker_a6f4b20887537d16b936a69b495e7e95.bindTooltip(
                `<div>
                     KCN Phúc Sơn
                 </div>`,
                {"sticky": true}
            );
        
    
            var feature_group_04d301607f9442fe149e56ebb0b55296 = L.featureGroup(
                {}
            ).addTo(map_c8dcf0e908ba0caba2a7431bcfd5382b);
        
    
            var marker_29c406721b8dba153835033a4e7856c8 = L.marker(
                [21.1144, 105.7822],
                {}
            ).addTo(feature_group_ccd609f3847b15b1e37578687fd9f4b3);
        
    
            var icon_d87fd14f57754a7374be7e51af44714a = L.AwesomeMarkers.icon(
                {"extraClasses": "fa-rotate-0", "icon": "industry", "iconColor": "white", "markerColor": "blue", "prefix": "fa"}
            );
            marker_29c406721b8dba153835033a4e7856c8.setIcon(icon_d87fd14f57754a7374be7e51af44714a);
        
    
        var popup_5aed64e806794dd431b7c09714ecaeb2 = L.popup({"maxWidth": 300});

        
            var html_86c15279157807e3e4f17e1521a3f1a9 = $(`<div id="html_86c15279157807e3e4f17e1521a3f1a9" style="width: 100.0%; height: 100.0%;"><b>KCN Thăng Long</b><br>Hà Nội<br>Điện tử, linh kiện<br>Diện tích: 274 ha</div>`)[0];
            popup_5aed64e806794dd431b7c09714ecaeb2.setContent(html_86c15279157807e3e4f17e1521a3f1a9);
        

        marker_29c406721b8dba153835033a4e7856c8.bindPopup(popup_5aed64e806794dd431b7c09714ecaeb2)
        ;

        
    
    
            marker_29c406721b8dba153835033a4e7856c8.bindTooltip(
                `<div>
                     KCN Thăng Long
                 </div>`,
                {"sticky": true}
            );
        
    
            var feature_group_9ece5f18f17e08067a8a51036589b6d8 = L.featureGroup(
                {}
            ).addTo(map_c8dcf0e908ba0caba2a7431bcfd5382b);
        
    
            var marker_b360914dac5e44afc7ea5c9a5fb7b08e = L.marker(
                [18.7963, 105.7024],
                {}
            ).addTo(feature_group_d7bda8f67a869f6115138ae991300080);
        
    
            var icon_3cba83464f8bd2cc211aa053c896eaa4 = L.AwesomeMarkers.icon(
                {"extraClasses": "fa-rotate-0", "icon": "industry", "iconColor": "white", "markerColor": "blue", "prefix": "fa"}
            );
            marker_b360914dac5e44afc7ea5c9a5fb7b08e.setIcon(icon_3cba83464f8bd2cc211aa053c896eaa4);
        
    
        var popup_79a2ee6c7ef2e901ece26efeaeaeafcf = L.popup({"maxWidth": 300});

        
            var html_da521d3081823bbdfb49be3871dd1175 = $(`<div id="html_da521d3081823bbdfb49be3871dd1175" style="width: 100.0%; height: 100.0%;"><b>KCN Nam Cấm</b><br>Nghệ An<br>Chế biến thực phẩm<br>Diện tích: 550 ha</div>`)[0];
            popup_79a2ee6c7ef2e901ece26efeaeaeafcf.setContent(html_da521d3081823bbdfb49be3871dd1175);
        

        marker_b360914dac5e44afc7ea5c9a5fb7b08e.bindPopup(popup_79a2ee6c7ef2e901ece26efeaeaeafcf)
        ;

        
    
    
            marker_b360914dac5e44afc7ea5c9a5fb7b08e.bindTooltip(
                `<div>
                     KCN Nam Cấm
                 </div>`,
                {"sticky": true}
            );
        
    
            var feature_group_09789ba6d5edd3eda4bd21aaacfbbc31 = L.featureGroup(
                {}
            ).addTo(map_c8dcf0e908ba0caba2a7431bcfd5382b);
        
    
            var marker_fee5e4516923c38d7f8d6cdd152521a0 = L.marker(
                [16.0711, 108.1585],
                {}
            ).addTo(feature_group_1e2ad8e72baa431051eddfe67702f53a);
        
    
            var icon_5fc43c55f1a6fcd4763533e68adba1d1 = L.AwesomeMarkers.icon(
                {"extraClasses": "fa-rotate-0", "icon": "industry", "iconColor": "white", "markerColor": "blue", "prefix": "fa"}
            );
            marker_fee5e4516923c38d7f8d6cdd152521a0.setIcon(icon_5fc43c55f1a6fcd4763533e68adba1d1);
        
    
        var popup_80e5a526efa6a2d210444b92498f7002 = L.popup({"maxWidth": 300});

        
            var html_c21264e6f3ac24cf3d0fafdde31bac29 = $(`<div id="html_c21264e6f3ac24cf3d0fafdde31bac29" style="width: 100.0%; height: 100.0%;"><b>KCN Hòa Khánh</b><br>Đà Nẵng<br>Cơ khí, chế biến thực phẩm<br>Diện tích: 400 ha</div>`)[0];
            popup_80e5a526efa6a2d210444b92498f7002.setContent(html_c21264e6f3ac24cf3d0fafdde31bac29);
        

        marker_fee5e4516923c38d7f8d6cdd152521a0.bindPopup(popup_80e5a526efa6a2d210444b92498f7002)
        ;

        
    
    
            marker_fee5e4516923c38d7f8d6cdd152521a0.bindTooltip(
                `<div>
                     KCN Hòa Khánh
                 </div>`,
                {"sticky": true}
            );
        
    
            var feature_group_ddbe1bdadca67cd8087f88e88f64661f = L.featureGroup(
                {}
            ).addTo(map_c8dcf0e908ba0caba2a7431bcfd5382b);
        
    
            var marker_df0f3d17567252b74d5c1ff2c0c46c85 = L.marker(
                [15.4609, 108.4878],
                {}
            ).addTo(feature_group_1c9badd7fdfd2d1bf0ad26699e2ab010);
        
    
            var icon_2361ae82cd60fd895abe4292ba7d3055 = L.AwesomeMarkers.icon(
                {"extraClasses": "fa-rotate-0", "icon": "industry", "iconColor": "white", "markerColor": "blue", "prefix": "fa"}
            );
            marker_df0f3d17567252b74d5c1ff2c0c46c85.setIcon(icon_2361ae82cd60fd895abe4292ba7d3055);
        
    
        var popup_ab113133a6cecf0b8af1cb8f9d757dee = L.popup({"maxWidth": 300});

        
            var html_7555fa2db075976ea74d2cc00aa922c2 = $(`<div id="html_7555fa2db075976ea74d2cc00aa922c2" style="width: 100.0%; height: 100.0%;"><b>KCN Chu Lai</b><br>Quảng Nam<br>Ô tô, cơ khí<br>Diện tích: 900 ha</div>`)[0];
            popup_ab113133a6cecf0b8af1cb8f9d757dee.setContent(html_7555fa2db075976ea74d2cc00aa922c2);
        

        marker_df0f3d17567252b74d5c1ff2c0c46c85.bindPopup(popup_ab113133a6cecf0b8af1cb8f9d757dee)
        ;

        
    
    
            marker_df0f3d17567252b74d5c1ff2c0c46c85.bindTooltip(
                `<div>
                     KCN Chu Lai
                 </div>`,
                {"sticky": true}
            );
        
    
            var feature_group_bd11cb736c290b72018026e72f364e16 = L.featureGroup(
                {}
            ).addTo(map_c8dcf0e908ba0caba2a7431bcfd5382b);
        
    
            var marker_93c6b13d9519d5db11780c5c2e31a76b = L.marker(
                [10.6247, 107.0367],
                {}
            ).addTo(feature_group_b028feca06f5b641b126b8c2de4016b0);
        
    
            var icon_4d5f7755de223a46fa10421e54ebb1ef = L.AwesomeMarkers.icon(
                {"extraClasses": "fa-rotate-0", "icon": "industry", "iconColor": "white", "markerColor": "blue", "prefix": "fa"}
            );
            marker_93c6b13d9519d5db11780c5c2e31a76b.setIcon(icon_4d5f7755de223a46fa10421e54ebb1ef);
        
    
        var popup_12baa666d4a94fc34297f161b4239d6e = L.popup({"maxWidth": 300});

        
            var html_cc8b9973aaec747476be94af2f7ca777 = $(`<div id="html_cc8b9973aaec747476be94af2f7ca777" style="width: 100.0%; height: 100.0%;"><b>KCN Phú Mỹ 1</b><br>Bà Rịa – Vũng Tàu<br>Hóa chất, luyện kim<br>Diện tích: 954 ha</div>`)[0];
            popup_12baa666d4a94fc34297f161b4239d6e.setContent(html_cc8b9973aaec747476be94af2f7ca777);
        

        marker_93c6b13d9519d5db11780c5c2e31a76b.bindPopup(popup_12baa666d4a94fc34297f161b4239d6e)
        ;

        
    
    
            marker_93c6b13d9519d5db11780c5c2e31a76b.bindTooltip(
                `<div>
                     KCN Phú Mỹ 1
                 </div>`,
                {"sticky": true}
            );
        
    
            var feature_group_9b73bd736a16f6d45ac1263c6e6a9ac7 = L.featureGroup(
                {}
            ).addTo(map_c8dcf0e908ba0caba2a7431bcfd5382b);
        
    
            var marker_a8c60a75546928bfe2de59414354687c = L.marker(
                [10.6301, 106.7034],
                {}
            ).addTo(feature_group_e0c5e1cf423df87869f8cb8fe985cc36);
        
    
            var icon_bc8ac2695d9dcbff519f4e54e1346652 = L.AwesomeMarkers.icon(
                {"extraClasses": "fa-rotate-0", "icon": "industry", "iconColor": "white", "markerColor": "blue", "prefix": "fa"}
            );
            marker_a8c60a75546928bfe2de59414354687c.setIcon(icon_bc8ac2
